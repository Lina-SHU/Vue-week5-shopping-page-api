<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>購物網站</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css"
    integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
  <script src="https://unpkg.com/vue@next"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
  <div id="app">
    <div class="container">
      <div class="row d-flex justify-content-center">
        <div class="col-md-8">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">商品圖片</th>
                <th scope="col">商品名稱</th>
                <th scope="col">商品售價</th>
                <th scope="col"></th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="product in productList" :key="product.id">
                <td width="25%">
                  <div class="productImg" style="height: 120px; object-fit:cover; background-position: center center;" :style="{'background-image': `url(${product.imageUrl})` }"></div>
                </td>
                <td>{{ product.title }}</td>
                <td>{{ product.price }}</td>
                <td>
                  <button type="button" class="btn btn-outline-secondary">查看更多</button>
                  <button type="button" class="btn btn-primary">加入購物車</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

    </div>


  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
    crossorigin="anonymous"></script>


  <script type="module">
    const apiUrl = 'https://vue3-course-api.hexschool.io/';
    const path= 'linachen';
    const app = Vue.createApp({
      data() {
        return {
          productList: {
            "imagesUrl": []
          },
          tempProduct: {}
        }
      },
      methods:{
        getProduct(){
          const url = `${apiUrl}api/${path}/products`;
          axios.get(url)
          .then(res=>{
            this.productList  = res.data.products;
          })

        }
      },
      mounted(){
        this.getProduct();
      }
    });

    app.mount('#app');
  </script>
</body>

</html>